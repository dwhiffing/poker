/*! For license information please see main.2b2ee204.chunk.js.LICENSE.txt */
(this.webpackJsonppoker=this.webpackJsonppoker||[]).push([[0],{1180:function(e,t,n){},1189:function(e,t){},1203:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(10),i=n.n(o),c=n(14),u=n(37),l=n(13),s=n(1234),f=n(1238),d=n(1241),m=n(1205),h=n(1235),p=n(1239),v=n(1240),y=n(30),g=n(71),b=n(72),E=n.n(b);function x(){x=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new L(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var f={};function d(){}function m(){}function h(){}var p={};u(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(I([])));y&&y!==t&&n.call(y,o)&&(p=y);var g=h.prototype=d.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t((function(a,i){!function r(a,o,i,c){var u=s(e[a],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(u.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return C()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=j(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function j(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return m.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),u(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var w=function(){var e=Object(y.a)(x().mark((function e(t){var n,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=localStorage.getItem(t))){e.next=10;break}return e.prev=2,e.next=5,window.colyseus.reconnect(t,r);case 5:n=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:if(e.t1=n,e.t1){e.next=15;break}return e.next=14,window.colyseus.joinById(t);case 14:e.t1=e.sent;case 15:return n=e.t1,e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(e,t){localStorage.setItem("name",t),localStorage.setItem(e.id,e.sessionId)},O=function(){return document.documentElement.clientWidth<=500||document.documentElement.clientHeight<=500},k=function(){return document.documentElement.clientWidth>=700&&document.documentElement.clientHeight>=700},L=["s","c","h","d"],I=[0,"A","2","3","4","5","6","7","8","9","T","J","Q","K"],C=function(e,t){if(0===t.length)return"";var n=t.map((function(e){return"".concat(I[e.value]).concat(L[e.suit])})),r=e.cards.map((function(e){return"".concat(I[e.value]).concat(L[e.suit])})).concat(n);return g.Hand.solve(r).descr},S=function(){return document.documentElement.clientWidth<document.documentElement.clientHeight},_=function(e){return E()(e).format("(0[.]00a)").toUpperCase()},N=["variant","flex","children","style"],A=["amount"],B=function(e){var t=e.variant,n=e.flex,r=void 0===n?1:n,o=e.children,i=e.style,c=void 0===i?{}:i,s=Object(u.a)(e,N),d={display:"flex",flex:r};return/column/.test(t)&&(d.flexDirection="column"),/justify-between/.test(t)&&(d.justifyContent="space-between"),/align-center/.test(t)?d.alignItems="center":/justify-center/.test(t)?d.justifyContent="center":/center/.test(t)&&(d.justifyContent="center",d.alignItems="center"),a.a.createElement(f.a,Object.assign({style:Object(l.a)(Object(l.a)({},d),c)},s),o)};function P(e){var t=e.amount,n=Object(u.a)(e,A);return a.a.createElement(v.a,Object.assign({},n,{label:"$"+_(t)}))}var T=["variant"];function W(e){var t=e.room,n=e.blind,r=e.currentTurn,o=e.currentBet,i=e.players,c=i.find((function(e){return e.id===t.sessionId}))||{},u=r===t.sessionId,f=i.filter((function(e){return e.inPlay})),d=i.filter((function(e){return e.seatIndex>-1&&e.money>0})).length,m=c.dealer&&d>=2&&0===f.length,h=-1!==c.seatIndex,p=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.send(Object(l.a)({action:e},n))};return a.a.createElement(a.a.Fragment,null,(u||m||c.isAdmin)&&a.a.createElement(z,{canDeal:m,currentBet:o,betAmount:2*n,player:c,blind:n,players:i,sendAction:p,canMove:u}),a.a.createElement(B,{flex:0,justifyContent:"flex-end",position:"fixed",top:10,left:0,right:0,zIndex:100},a.a.createElement(s.a,{onClick:function(){h?p("stand"):(localStorage.removeItem(t.id),t.leave())}},h?"Stand":"Leave")))}var F=function(e){var t=e.variant,n=void 0===t?"contained":t,r=Object(u.a)(e,T);return a.a.createElement(s.a,Object.assign({variant:n},r,{style:{margin:8}}))};function z(e){var t=e.canDeal,n=e.sendAction,o=e.currentBet,i=void 0===o?0:o,u=e.player,l=e.blind,s=e.canMove,v=e.betAmount,y=e.players,g=e.autoDeal,b=void 0!==g&&g,E=e.autoCheck,x=void 0!==E&&E,w=y.filter((function(e){return e.inPlay})),j=Object(r.useState)(i),O=Object(c.a)(j,2),k=O[0],L=O[1],I=Object(r.useState)(!1),C=Object(c.a)(I,2),S=C[0],N=C[1],A=Object(r.useState)(!1),P=Object(c.a)(A,2),T=P[0],W=P[1],z=u.money+u.currentBet;return Object(r.useEffect)((function(){t&&b&&n("deal")}),[t,n,b]),Object(r.useEffect)((function(){"number"===typeof i&&L(i+2*l)}),[i,l]),Object(r.useEffect)((function(){0===u.money&&0===i&&x&&setTimeout((function(){n("check")}),500)}),[u,x,n,i]),a.a.createElement(B,{flex:0,variant:"column center",position:"fixed",bottom:10,left:0,right:0,zIndex:100},a.a.createElement(B,{variant:"justify-center",style:{flexWrap:"wrap",maxWidth:600}},S?a.a.createElement(f.a,null,a.a.createElement(B,null,a.a.createElement(F,{onClick:function(){return N(!1)}},"Cancel"),a.a.createElement(F,{onClick:function(){return L(k-l)}},"-",l),a.a.createElement(F,{onClick:function(){return L(k+l)}},"+",l),a.a.createElement(F,{onClick:function(){N(!1),n("bet",{amount:k})}},"Submit")),a.a.createElement(B,null,a.a.createElement(d.a,{value:k,onChange:function(e,t){return L(t)},"aria-labelledby":"continuous-slider",step:2*l,min:2*l,max:z,style:{marginRight:20}}),a.a.createElement(B,{variant:"center",style:{minWidth:80}},a.a.createElement(m.a,null,"$",_(k))))):a.a.createElement(a.a.Fragment,null,u.isAdmin&&a.a.createElement(h.a,{control:a.a.createElement(p.a,{checked:T,onChange:function(e,t){return W(t)},name:"showAdmin"}),label:"Admin"}),t&&a.a.createElement(F,{disabled:!t,onClick:function(){return n("deal")}},"Deal"),w.length>0&&a.a.createElement(F,{disabled:!s,onClick:function(){return n(i>u.currentBet?"fold":"check")}},i>u.currentBet?"Fold":"Check"),w.length>0&&i>0&&a.a.createElement(F,{disabled:!s||i===u.currentBet,onClick:function(){return n("call")}},i>z?"All in":"Call"," ($",_(i>z?z:i),")"),w.length>0&&a.a.createElement(F,{disabled:!s||z<i+v,onClick:function(){N(!0),L(i+2*l)}},i>0?"Raise ($".concat(_(i+2*l),")"):"Bet"),T&&a.a.createElement(a.a.Fragment,null,a.a.createElement(F,{disabled:y.length>=10,onClick:function(){return n("addBot")}},"+ bot"),a.a.createElement(F,{disabled:0===y.filter((function(e){return e.isBot})).length,onClick:function(){return n("removeBot")}},"- bot"),a.a.createElement(F,{disabled:0===y.filter((function(e){return e.isBot})).length,onClick:function(){return n("increaseBlinds")}},"+ blind (",l,")"),a.a.createElement(F,{disabled:0===y.filter((function(e){return e.isBot})).length,onClick:function(){return n("decreaseBlinds")}},"- blind (",l,")"),a.a.createElement(F,{onClick:function(){return n("gift")}},"give 1k to all")))))}var H=["spades","clubs","hearts","diamonds"],G=function(e){var t=e.card,n=e.x,r=void 0===n?0:n,o=e.y,i=void 0===o?0:o,c=e.scale,u=void 0===c?1:c,s=e.style,f=void 0===s?{}:s,d=["card",t&&"rank".concat(t.value),!t.value&&"finished",t&&H[t.suit]];return a.a.createElement("div",{className:d.join(" "),style:Object(l.a)({transform:"translate3d(".concat(r,"px, ").concat(i,"px, 0px) scale(").concat(u,")")},f)},a.a.createElement("div",{className:"face"}),a.a.createElement("div",{className:"back"}))},R=function(e){var t=e.onSit,n=e.getPlayer,r=e.index,o=e.style,i=void 0===o?{}:o,c=n(r)||{},u=c.id,d=c.remainingConnectionTime,h=c.remainingMoveTime,p=c.connected,y=c.isTurn,g=c.isClient,b=c.name,E=c.winner,x=c.inPlay,w=c.lastAction,j=c.currentBet,O=void 0===j?0:j,k=c.money,L=c.hand,I=c.showCards,C=c.cards,S=c.dealer,N="#54b786";return y&&(N="white"),u&&!p&&(N="#d86e6e"),E&&(N="#00fff3"),a.a.createElement(B,{position:"relative",variant:"center"},a.a.createElement(B,{flex:1,mx:{xs:.25,md:2},my:{xs:2,md:4},variant:"center",borderRadius:12,minWidth:document.documentElement.clientWidth<400?64:83,maxWidth:125,position:"relative",py:1,style:Object(l.a)({border:"3px solid ".concat(Y[r]),backgroundColor:N,zIndex:S?15:10},i)},u?a.a.createElement(a.a.Fragment,null,a.a.createElement(B,{variant:"column center"},a.a.createElement(m.a,{style:{fontSize:g?14:12,textAlign:"center",fontWeight:g?"bold":"normal"}},b||u),a.a.createElement(m.a,{style:{fontSize:12}},"$",_(k))),O>0&&a.a.createElement(f.a,{position:"absolute",bottom:-25,zIndex:99},a.a.createElement(P,{amount:O})),c.betThisHand>0&&I&&a.a.createElement(f.a,{position:"absolute",bottom:-45,zIndex:99},a.a.createElement(m.a,null,"Total bet: ",c.betThisHand)),S&&a.a.createElement($,null),y&&a.a.createElement(J,{time:p?h:d}),w&&a.a.createElement(f.a,{position:"absolute",bottom:44,zIndex:66,style:{animation:"animate 3s",animationTimingFunction:"linear"}},a.a.createElement(v.a,{label:w})),x&&O<=0&&I&&L&&a.a.createElement(f.a,{position:"absolute",bottom:-23,zIndex:66},a.a.createElement(v.a,{label:L}))):a.a.createElement(s.a,{disabled:!t,onClick:function(){return t(r)}},"Sit")),C&&a.a.createElement(D,{big:g||I,cards:C}))};function D(e){var t=e.big,n=e.cards,r=O()?50:40,o=t?1:.7;return a.a.createElement(f.a,{position:"absolute",display:"flex",justifyContent:"center",zIndex:1,width:120,height:130,bottom:33,overflow:"hidden"},n.map((function(e,n){return a.a.createElement(f.a,{key:"card-".concat(n),width:0===n?17:null},a.a.createElement(G,{key:n,card:e,scale:O()?.9*o:o*(k()?1.5:1),y:r,style:{position:"relative",zIndex:t?10:1}}))})))}function J(e){var t=e.time;return a.a.createElement(f.a,{display:"flex",justifyContent:"center",alignItems:"center",width:30,height:30,borderRadius:15,position:"absolute",right:-20,style:{zIndex:300,boxShadow:"rgba(0,0,0,0.5) 0px 0px 3px",backgroundColor:"white",color:"green"}},t)}function $(){return a.a.createElement(f.a,{display:"flex",justifyContent:"center",alignItems:"center",width:30,height:30,borderRadius:15,position:"absolute",right:-20,style:{zIndex:300,boxShadow:"rgba(0,0,0,0.5) 0px 0px 3px",backgroundColor:"white",color:"green"}},"D")}var Y=["#0071AA","#ECE4B7","#E8C340","#D33830","#A06033","#EA9438","#E27C81","#7FC12E","#525252","#AA5BAF"],M=function(e){var t=e.pot,n=e.layout,r=e.room,o=e.cards,i=e.onSit,c=e.players,u=function(e){return c.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{hand:C(e,o),isClient:e.id===r.sessionId})})).find((function(t){return t.seatIndex===e}))};return a.a.createElement(B,{variant:"column justify-between",width:"100%",maxWidth:1100,maxHeight:500},a.a.createElement(B,null,document.documentElement.clientHeight>350&&document.documentElement.clientWidth>400&&a.a.createElement(B,null),n[0].map((function(e){return a.a.createElement(R,{key:"seat-".concat(e),index:e,getPlayer:u,onSit:i})})),document.documentElement.clientHeight>350&&document.documentElement.clientWidth>400&&a.a.createElement(B,null)),a.a.createElement(B,{flex:2},n[1].length>0&&a.a.createElement(B,{variant:"column"},n[1].map((function(e){return a.a.createElement(R,{key:"seat-".concat(e),index:e,getPlayer:u,onSit:i})}))),a.a.createElement(B,{variant:"column center",minHeight:document.documentElement.clientWidth<500?350:0,flex:2},a.a.createElement(f.a,{minHeight:100,minWidth:150,display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},document.documentElement.clientHeight<=400&&t>0&&a.a.createElement(f.a,{zIndex:99},a.a.createElement(P,{amount:t})),o.map((function(e,t){return a.a.createElement(G,{key:e.index,card:e,scale:k()?1.4:1,style:{margin:k()?20:5}})}))),document.documentElement.clientHeight>350&&document.documentElement.clientWidth>400&&t>0&&a.a.createElement(f.a,{mt:1,zIndex:99},a.a.createElement(P,{amount:t}))),n[2].length>0&&a.a.createElement(B,{variant:"column"},n[2].map((function(e){return a.a.createElement(R,{key:"seat-".concat(e),index:e,getPlayer:u,onSit:i})})))),a.a.createElement(B,null,document.documentElement.clientHeight>350&&document.documentElement.clientWidth>400&&a.a.createElement(B,null),n[3].map((function(e){return a.a.createElement(R,{key:"seat-".concat(e),index:e,getPlayer:u,onSit:i})})),document.documentElement.clientHeight>350&&document.documentElement.clientWidth>400&&a.a.createElement(B,null)))};function K(e){var t=e.pot,n=void 0===t?0:t,o=e.players,i=e.room,u=e.cards,s=Object(r.useState)(S()),f=Object(c.a)(s,2),d=f[0],m=f[1],h=o.find((function(e){return e.id===i.sessionId}))||{},p=o.filter((function(e){return-1!==e.seatIndex})).map((function(e){return Object(l.a)(Object(l.a)({},e),{},{isClient:e.id===i.sessionId})})).sort((function(e,t){return e.seatIndex-t.seatIndex})),v=-1===h.seatIndex?function(e){return i.send({action:"sit",seatIndex:e})}:null;return Object(r.useEffect)((function(){var e=function(){return m(S())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a.a.createElement(M,{layout:document.documentElement.clientHeight<=320?h.seatIndex>=4?V:q:d?Q:U,cards:u,onSit:v,room:i,pot:n,currentPlayer:h,players:p})}var Q=[[0,1],[9,8,7],[2,3,4],[6,5]],U=[[0,1,2],[9,8],[3,4],[7,6,5]],q=[[0,1,2,3,4],[],[],[9,8,7,6,5]],V=[[9,8,7,6,5],[],[],[0,1,2,3,4]],X=n(1236),Z=n(77),ee=n.n(Z),te=n(78),ne=n.n(te);function re(){re=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(C){u=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new k(a||[]);return r(i,"_invoke",{value:x(e,n,c)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=l;var f={};function d(){}function m(){}function h(){}var p={};u(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&n.call(y,o)&&(p=y);var g=h.prototype=d.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t((function(a,i){!function r(a,o,i,c){var u=s(e[a],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(u.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return I()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return m.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=u(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),u(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),u(g,c,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function ae(e){var t=e.setRoom,n=Object(r.useState)([]),o=Object(c.a)(n,2),i=o[0],u=o[1],l=Object(r.useState)(localStorage.getItem("name")||ee.a.name.firstName()),f=Object(c.a)(l,2),d=f[0],h=f[1],p=Object(r.useRef)(),v=Object(r.useRef)(!1),g=Object(r.useCallback)(function(){var e=Object(y.a)(re().mark((function e(n){var r,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=prompt("Room name?")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,window.colyseus.create("poker",{roomName:r});case 5:a=e.sent,j(a,n),a.send({action:"setName",name:n}),a.send({action:"sit"}),t(a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),b=Object(r.useCallback)(function(){var e=Object(y.a)(re().mark((function e(n,r){var a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(n);case 2:if(a=e.sent){e.next=6;break}return alert("Failed to join room"),e.abrupt("return");case 6:j(a,r),a.send({action:"setName",name:r}),a.send({action:"sit"}),t(a);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),E=Object(r.useCallback)(Object(y.a)(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.colyseus.getAvailableRooms();case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)}))),[]);return Object(r.useEffect)((function(){return E(),p.current=setInterval(E,3e3),function(){return clearInterval(p.current)}}),[E]),Object(r.useEffect)((function(){if(i){var e=i.find((function(e){return localStorage.getItem(e.roomId)}));e&&!v.current&&(v.current=!0,b(e.roomId,d))}}),[i,b,d]),a.a.createElement(B,{variant:"column center",style:{height:"100vh"}},a.a.createElement(X.a,{placeholder:"Enter name",value:d,onChange:function(e){return h(ne()(e.target.value,{length:10,omission:""}))},style:{marginBottom:20}}),a.a.createElement(m.a,{variant:"h5"},"Available Tables:"),a.a.createElement(B,{flex:0,variant:"column center",style:{minHeight:200}},0===i.length&&a.a.createElement(ie,null),i.map((function(e){return a.a.createElement(oe,{key:e.roomId,room:e,onClick:function(){return b(e.roomId,d)}})}))),a.a.createElement(s.a,{variant:"contained",onClick:function(){return g(d)}},"Create room"))}var oe=function(e){var t=e.room,n=e.onClick;return a.a.createElement(f.a,null,a.a.createElement(m.a,{style:{cursor:"pointer",textDecoration:"underline"},onClick:n},t.metadata.roomName||t.roomId))},ie=function(){return a.a.createElement(m.a,null,"No rooms available")};n(1180);var ce=function(){var e=Object(r.useState)(),t=Object(c.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)([]),u=Object(c.a)(i,2),s=u[0],f=u[1],d=Object(r.useState)([]),m=Object(c.a)(d,2),h=m[0],p=m[1],v=Object(r.useState)(),y=Object(c.a)(v,2),g=y[0],b=y[1],E=Object(r.useState)(0),x=Object(c.a)(E,2),w=x[0],j=x[1],O=Object(r.useState)(0),k=Object(c.a)(O,2),L=k[0],I=k[1],C=Object(r.useState)(),S=Object(c.a)(C,2),_=S[0],N=S[1];return Object(r.useEffect)((function(){n&&(n.onLeave((function(){o(null),p([]),b(),f([])})),n.state.onChange=function(e){return e.forEach((function(e){var t=e.field,r=e.value;"cards"===t?f(r.toJSON()):"currentTurn"===t?b(r):"pot"===t?N(r):"blind"===t?I(r):"currentBet"===t?j(r):"players"===t&&p(r.toJSON().map((function(e){return t=e,r=n.sessionId,Object(l.a)(Object(l.a)({},t),{},{cards:t.id===r||t.showCards?t.cards:t.cards.map((function(e){return{}}))});var t,r})))}))})}),[n]),n?a.a.createElement(B,{variant:"column center",overflow:"hidden",style:{width:document.documentElement.clientWidth>500?"calc(100vw - 20px)":"100vw",height:"calc(100vh - 60px)",padding:document.documentElement.clientWidth>500?"30px 10px":"30px 0"}},a.a.createElement(K,{pot:_,room:n,cards:s,players:h}),a.a.createElement(W,{room:n,blind:L,currentBet:w,currentTurn:g,players:h})):a.a.createElement(ae,{setRoom:o})},ue=n(79);window.colyseus=new ue.Client("wss://daniel-poker.onrender.com"),i.a.render(a.a.createElement(ce,null),document.getElementById("root"))},89:function(e,t,n){e.exports=n(1203)}},[[89,1,2]]]);
//# sourceMappingURL=main.2b2ee204.chunk.js.map